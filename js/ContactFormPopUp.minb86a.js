function SetUpValidationRulesPopUp(){$("#programsPopUp").rules("add",{required:!0,messages:{required:"Please select a program."}});$("#namePopUp").rules("add",{required:!0,messages:{required:"Please enter your full name."}});$("#emailPopUp").rules("add",{required:!0,email:!0,messages:{required:"Please enter your email address.",email:"Please enter a valid email address."}});$("#statePopUp").rules("add",{validateselectedstatepopup:!0});$("#cityPopUp").rules("add",{validateselectedcitypopup:!0});$("#phonePopUp").rules("add",{required:!0,minlength:13,maxlength:14,messages:{required:"Please enter a telephone number.",minlength:"At least 10 digits are required.",maxlength:"No more than 14 digits are required."}})}function ChangeValidationRulesForIndiaPhonesPopUp(n,t,i){n=="in"?($(t).attr("maxlength",i),$(t).rules("remove","minlength"),$(t).rules("remove","maxlength"),$(t).rules("add",{minlength:i,maxlength:i,messages:{minlength:i+" digits are required.",maxlength:i+" digits are required."}})):($(t).attr("maxlength","14"),$(t).rules("remove","minlength"),$(t).rules("remove","maxlength"),$(t).rules("add",{minlength:10,maxlength:14,messages:{minlength:"At least 10 digits are required.",maxlength:"No more than 14 digits are required."}}))}function GetLeadDataPopUp(){try{var n={},t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;return urlPlusQS=t,n.LProgramCode=$("#programsPopUp").val(),n.FirstName=$("#namePopUp").val(),n.LastName=".",n.Email=$("#emailPopUp").val(),n.Celular=$("#phonePopUp").val(),n.CountryCode=$("#txtphoneCountryPopUp").val(),n.Ciudad=$("#cityPopUp").val(),n.StateId=$("#txtStateIdPopUp").val(),n.CityId=$("#txtCityIdPopUp").val(),n.WebUrl=urlPlusQS,n.IsBrochure=!0,n.BrochureUrl=$("#txtBrochureUrl").val(),n.Accion="save",n}catch(i){alert("Error in GetLeadDataPopUp(): "+i)}}$(document).ready(function(){var n=$("#ContactFormPopUp").validate({highlight:function(n){$(n).addClass("fieldError")},unhighlight:function(n){$(n).removeClass("fieldError")}});$("#ContactFormPopUp").length!=0&&SetUpValidationRulesPopUp();$("#phonePopUp").focus(function(){$(this).keydown(function(n){var t=$("#txtphoneCountryPopUp").prev().find(".iti__selected-flag").attr("title").split("+")[1].length+1,i;n.keyCode==46&&$(this).prop("selectionStart")>t-1||n.keyCode==8&&$(this).prop("selectionStart")>t||n.keyCode==9||n.keyCode==27||n.keyCode==13||n.keyCode==65&&n.ctrlKey===!0||n.keyCode>=35&&n.keyCode<=39||((n.shiftKey||(n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))&&n.preventDefault(),i=$(this).val().length,i>t+9&&n.preventDefault(),(n.keyCode===8&&$(this).prop("selectionStart")<=t||n.keyCode==46&&$(this).prop("selectionStart")<=t-1)&&n.preventDefault())});$(this).contextmenu(function(n){n.preventDefault()})});$("#requestInfo1PopUp").click(function(){var n=$("#requestInfo1PopUp").html(),t,i;if($("#requestInfo1PopUp").attr("disabled",!0),$("#requestInfo1PopUp").html('<div class="d-flex flex-row justify-content-center align-items-center"><p class="pe-2 m-0">PLEASE WAIT<\/p><div class="spinner-border" role="status"><\/div ><\/div>'),$("#errMessagePopUp").hide(),t=$("#ContactFormPopUp").validate(),t.form()){if(i=GetLeadDataPopUp(),i)try{$.ajax({type:"POST",url:"/ajax/savecontact",dataType:"json","async":!0,data:i}).done(function(t){t.status=="OK"?window.location.href=$("#landingPageSiguientePopUp").length>0&&$("#landingPageSiguientePopUp").val()!=""?$("#landingPageSiguientePopUp").val():"/thank-you":($("#requestInfo1PopUp").attr("disabled",!1),$("#requestInfo1PopUp").html(n),$("#errMessagePopUp").show(),$("#errMessagePopUp").html("<strong>Error: <\/strong>"+t.description))}).fail(function(t,i,r){$("#requestInfo1PopUp").attr("disabled",!1);$("#requestInfo1PopUp").html(n);t.status!=200&&(response=r===""?"Failed to perform this operation.":r);$("#errMessagePopUp").show();$("#errMessagePopUp").html("<strong>Error: <\/strong>"+response)})}catch(r){$("#requestInfo1PopUp").attr("disabled",!1);$("#requestInfo1PopUp").html(n);alert("Unexpected error: "+r)}}else $("#requestInfo1PopUp").attr("disabled",!1),$("#requestInfo1PopUp").html(n),t.focusInvalid()});$("#statePopUp").autocomplete({source:function(n,t){$(".loader-state-popup").show();$.ajax({url:"/ajax/getstatesbycountrycode",dataType:"json",data:{countryCode:$("#txtphoneCountryPopUp").val(),term:n.term,maxRows:15},success:function(n){if(n.length==0)n.push({id:"",label:"Not found",value:"Not found"});t(n)}}).done(function(){$(".loader-state-popup").hide()})},minLength:3,select:function(n,t){t.item.value=="Not found"?n.preventDefault():($("#statePopUp").val(t.item.id),$("#statePopUp").attr("disabled",!0),$("#statePopUp").removeClass("fieldError"),$("#cityPopUp").focus(),$("#txtStateIdPopUp").val(t.item.id),$("#statePopUp").next().hasClass("alert-error")&&$("#statePopUp").next().remove())}});$("#cityPopUp").autocomplete({source:function(n,t){$(".loader-city-popup").show();$.ajax({url:"/ajax/getcitiesbystateid",dataType:"json",data:{stateId:$("#txtStateIdPopUp").val(),term:n.term,maxRows:15},success:function(n){if(n.length==0)n.push({id:"",label:"Not found",value:"Not found"});t(n)}}).done(function(){$(".loader-city-popup").hide()})},minLength:3,select:function(n,t){t.item.value=="Not found"?n.preventDefault():($("#cityPopUp").val(t.item.id),$("#cityPopUp").attr("disabled",!0),$("#cityPopUp").removeClass("fieldError"),$("#phonePopUp").focus(),$("#txtCityIdPopUp").val(t.item.id),$("#cityPopUp").next().hasClass("alert-error")&&$("#cityPopUp").next().remove())}});$("#btnCleanStatePopUp").click(function(){$("#statePopUp").val("");$("#statePopUp").attr("disabled",!1);$("#statePopUp").focus();$("#txtStateIdPopUp").val("");$("#cityPopUp").val("");$("#cityPopUp").attr("disabled",!1);$("#txtCityIdPopUp").val("")});$("#btnCleanCityPopUp").click(function(){$("#cityPopUp").val("");$("#cityPopUp").attr("disabled",!1);$("#cityPopUp").focus();$("#txtCityIdPopUp").val("")});$("#chkPrivacyPolicyPopUp").click(function(){$("#chkPrivacyPolicyPopUp").is(":checked")?$("#requestInfo1PopUp").attr("disabled",!1):$("#requestInfo1PopUp").attr("disabled",!0)});$.validator.addMethod("validateselectedstatepopup",function(n){return n!=""&&$("#txtStateIdPopUp").val()!=""},"Please enter your state of residence.");$.validator.addMethod("validateselectedcitypopup",function(n){return n!=""&&$("#txtCityIdPopUp").val()!=""},"Please enter your city of residence.")});