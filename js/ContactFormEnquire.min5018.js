function SetUpValidationRulesEnquire(){$("#programsEnquire").rules("add",{required:!0,messages:{required:"Please select a program."}});$("#nameEnquire").rules("add",{required:!0,messages:{required:"Please enter your full name."}});$("#emailEnquire").rules("add",{required:!0,email:!0,messages:{required:"Please enter your email address.",email:"Please enter a valid email address."}});$("#stateEnquire").rules("add",{validateselectedstateenquire:!0});$("#cityEnquire").rules("add",{validateselectedcityenquire:!0});$("#phoneEnquire").rules("add",{required:!0,minlength:13,maxlength:14,messages:{required:"Please enter a telephone number.",minlength:"At least 10 digits are required.",maxlength:"No more than 14 digits are required."}})}function ChangeValidationRulesForIndiaPhonesEnquire(n,t,i){n=="in"?($(t).attr("maxlength",i),$(t).rules("remove","minlength"),$(t).rules("remove","maxlength"),$(t).rules("add",{minlength:i,maxlength:i,messages:{minlength:i+" digits are required.",maxlength:i+" digits are required."}})):($(t).attr("maxlength","14"),$(t).rules("remove","minlength"),$(t).rules("remove","maxlength"),$(t).rules("add",{minlength:10,maxlength:14,messages:{minlength:"At least 10 digits are required.",maxlength:"No more than 14 digits are required."}}))}function GetLeadDataEnquire(){try{var n={},t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search;return urlPlusQS=t,n.LProgramCode=$("#programsEnquire").val(),n.FirstName=$("#nameEnquire").val(),n.LastName=".",n.Email=$("#emailEnquire").val(),n.Celular=$("#phoneEnquire").val(),n.CountryCode=$("#txtphoneCountryEnquire").val(),n.Ciudad=$("#cityEnquire").val(),n.StateId=$("#txtStateIdEnquire").val(),n.CityId=$("#txtCityIdEnquire").val(),n.WebUrl=urlPlusQS,n.Accion="save",n}catch(i){alert("Error in GetLeadDataEnquire(): "+i)}}$(document).ready(function(){var n=$("#ContactFormEnquire").validate({highlight:function(n){$(n).addClass("fieldError")},unhighlight:function(n){$(n).removeClass("fieldError")}});$("#ContactFormEnquire").length!=0&&SetUpValidationRulesEnquire();$("#phoneEnquire").focus(function(){$(this).keydown(function(n){var t=$("#txtphoneCountryEnquire").prev().find(".iti__selected-flag").attr("title").split("+")[1].length+1,i;n.keyCode==46&&$(this).prop("selectionStart")>t-1||n.keyCode==8&&$(this).prop("selectionStart")>t||n.keyCode==9||n.keyCode==27||n.keyCode==13||n.keyCode==65&&n.ctrlKey===!0||n.keyCode>=35&&n.keyCode<=39||((n.shiftKey||(n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))&&n.preventDefault(),i=$(this).val().length,i>t+9&&n.preventDefault(),(n.keyCode===8&&$(this).prop("selectionStart")<=t||n.keyCode==46&&$(this).prop("selectionStart")<=t-1)&&n.preventDefault())});$(this).contextmenu(function(n){n.preventDefault()})});$("#requestInfo1Enquire").click(function(){var n=$("#requestInfo1Enquire").html(),t,i;if($("#requestInfo1Enquire").attr("disabled",!0),$("#requestInfo1Enquire").html('<div class="d-flex flex-row justify-content-center align-items-center"><p class="pe-2 m-0">PLEASE WAIT<\/p><div class="spinner-border" role="status"><\/div ><\/div>'),$("#errMessageEnquire").hide(),t=$("#ContactFormEnquire").validate(),t.form()){if(i=GetLeadDataEnquire(),i)try{$.ajax({type:"POST",url:"/ajax/savecontact",dataType:"json","async":!0,data:i}).done(function(t){t.status=="OK"?window.location.href=$("#landingPageSiguienteEnquire").length>0&&$("#landingPageSiguienteEnquire").val()!=""?$("#landingPageSiguienteEnquire").val():"/thank-you":($("#requestInfo1Enquire").attr("disabled",!1),$("#requestInfo1Enquire").html(n),$("#errMessageEnquire").show(),$("#errMessageEnquire").html("<strong>Error: <\/strong>"+t.description))}).fail(function(t,i,r){$("#requestInfo1Enquire").attr("disabled",!1);$("#requestInfo1Enquire").html(n);t.status!=200&&(response=r===""?"Failed to perform this operation.":r);$("#errMessageEnquire").show();$("#errMessageEnquire").html("<strong>Error: <\/strong>"+response)})}catch(r){$("#requestInfo1Enquire").attr("disabled",!1);$("#requestInfo1Enquire").html(n);alert("Unexpected error: "+r)}}else $("#requestInfo1Enquire").attr("disabled",!1),$("#requestInfo1Enquire").html(n),t.focusInvalid()});$("#stateEnquire").autocomplete({source:function(n,t){$(".loader-state-enquire").show();$.ajax({url:"/ajax/getstatesbycountrycode",dataType:"json",data:{countryCode:$("#txtphoneCountryEnquire").val(),term:n.term,maxRows:15},success:function(n){if(n.length==0)n.push({id:"",label:"Not found",value:"Not found"});t(n)}}).done(function(){$(".loader-state-enquire").hide()})},minLength:3,select:function(n,t){t.item.value=="Not found"?n.preventDefault():($("#stateEnquire").val(t.item.id),$("#stateEnquire").attr("disabled",!0),$("#stateEnquire").removeClass("fieldError"),$("#cityEnquire").focus(),$("#txtStateIdEnquire").val(t.item.id),$("#stateEnquire").next().hasClass("alert-error")&&$("#stateEnquire").next().remove())}});$("#cityEnquire").autocomplete({source:function(n,t){$(".loader-city-enquire").show();$.ajax({url:"/ajax/getcitiesbystateid",dataType:"json",data:{stateId:$("#txtStateIdEnquire").val(),term:n.term,maxRows:15},success:function(n){if(n.length==0)n.push({id:"",label:"Not found",value:"Not found"});t(n)}}).done(function(){$(".loader-city-enquire").hide()})},minLength:3,select:function(n,t){t.item.value=="Not found"?n.preventDefault():($("#cityEnquire").val(t.item.id),$("#cityEnquire").attr("disabled",!0),$("#cityEnquire").removeClass("fieldError"),$("#phoneEnquire").focus(),$("#txtCityIdEnquire").val(t.item.id),$("#cityEnquire").next().hasClass("alert-error")&&$("#cityEnquire").next().remove())}});$("#btnCleanStateEnquire").click(function(){$("#stateEnquire").val("");$("#stateEnquire").attr("disabled",!1);$("#stateEnquire").focus();$("#txtStateIdEnquire").val("");$("#cityEnquire").val("");$("#cityEnquire").attr("disabled",!1);$("#txtCityIdEnquire").val("")});$("#btnCleanCityEnquire").click(function(){$("#cityEnquire").val("");$("#cityEnquire").attr("disabled",!1);$("#cityEnquire").focus();$("#txtCityIdEnquire").val("")});$("#chkPrivacyPolicyEnquire").click(function(){$("#chkPrivacyPolicyEnquire").is(":checked")?$("#requestInfo1Enquire").attr("disabled",!1):$("#requestInfo1Enquire").attr("disabled",!0)});$.validator.addMethod("validateselectedstateenquire",function(n){return n!=""&&$("#txtStateIdEnquire").val()!=""},"Please enter your state of residence.");$.validator.addMethod("validateselectedcityenquire",function(n){return n!=""&&$("#txtCityIdEnquire").val()!=""},"Please enter your city of residence.")});